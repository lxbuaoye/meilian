<view class="page">
  <!-- 导航栏：复用 pages/showcase-detail/index 的结构与类名 -->
  <view class="custom-nav-bar">
    <view class="nav-status-bar" style="height: {{statusBarHeight}}px;"></view>
    <view class="nav-content">
      <view style="display: flex; flex:1; align-items: center; height: 100rpx; justify-content: center;">
        <image src="{{logoImage}}" style="width: 253rpx; height: 38rpx;" mode="scaleToFill"></image>
      </view>
    </view>
  </view>

  <view class="content" style="padding-top: {{navBarHeight}}px;">
    <!-- 搜索 -->
    <view class="search-wrap">
      <t-icon name="search" class="search-icon" />
      <input class="search-input" placeholder="请输入色彩编码、名称" placeholder-class="search-placeholder" value="{{keyword}}" bindinput="handleKeywordInput" />
    </view>

    <!-- 一级分类 -->
    <view class="top-tabs">
      <view class="top-tab {{activeTopTab === 0 ? 'top-tab--active' : ''}}" bindtap="setTopTab" data-index="0">乳胶漆</view>
      <view class="top-tab {{activeTopTab === 1 ? 'top-tab--active' : ''}}" bindtap="setTopTab" data-index="1">仿石漆</view>
      <view class="top-tab {{activeTopTab === 2 ? 'top-tab--active' : ''}}" bindtap="setTopTab" data-index="2">艺术漆</view>
    </view>

    <!-- 二级筛选 -->
    <scroll-view class="chips" scroll-x enable-flex>
      <view class="chip {{activeChip === index ? 'chip--active' : ''}}" wx:for="{{chips}}" wx:key="index" data-index="{{index}}" bindtap="setChip">{{item}}</view>
    </scroll-view>

    <!-- 色卡列表 -->
    <view class="grid">
      <view class="grid-item" wx:for="{{filteredCards}}" wx:key="code" bindtap="openDetail" data-name="{{item.name}}" data-code="{{item.code}}" data-img="{{item.originalImg}}">
        <image class="grid-img" src="{{item.img}}" mode="aspectFill" bindload="onImageLoad" binderror="onImageError" data-code="{{item.code}}" data-img="{{item.img}}" data-original="{{item.originalImg}}" />
        <text class="grid-text">{{item.name}}</text>
      </view>
    </view>
  </view>
</view>