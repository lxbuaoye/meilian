<block wx:if="{{showLoginPopup}}">
  <ai-login header="ğŸ¨ æ™ºèƒ½åˆ†æï¼Œå…¨æ–¹ä½å‡ºæ–¹æ¡ˆ!"
    bind:onloginsuccess="onLoginSuccess"> </ai-login>
</block>

<view style="margin: 24rpx;">
  <user-header bind:unauthorized="onUnauthorized"></user-header>
</view>

<block wx:if="{{loadingReport}}">
  <view style="display: flex; justify-content: center; align-items: center; margin-top: 40rpx;">
    <t-loading theme="circular"
      size="40rpx"
      text="æ­£åœ¨åŠ è½½æŠ¥å‘Š..."
      layout="vertical"
      class="wrapper" />
  </view>
</block>

<view wx:if="{{!loadingReport}}"
  style="display: flex; justify-content: center; align-items: center; flex-direction: column; margin: 24rpx 24rpx;">

  <view style="height: 490rpx; margin: 0 24rpx 0 24rpx; width: 100%; background-color: {{hasResult? 'transparent' : 'rgba(0,0,0,0.1)'}}; position: relative; border-radius: 24rpx; overflow: hidden;">
    <t-sticky bind:scroll="onStickyChange"
      t-class="sticky-container {{activeStickyImage ? 'active': '' }}">
      <image src="{{imageSrc}}"
        wx:if="{{imageSrc}}"
        bind:tap="openViewer"
        class="image {{activeStickyImage ? 'sticky': '' }}"
        mode="aspectFit"></image>
    </t-sticky>
    <view wx:if="{{!imageSrc}}"
      style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 32rpx; display: flex; color: white; justify-content: center; align-items: center; display: flex; flex-direction: column; width: 100%;">
      <view style="justify-content: center; align-items: center; display: flex; flex-direction: column;"
        bind:tap="chooseImage">
        <image src="{{uploadButtonSrc}}"
          style="width: 60rpx; height: 60rpx;"></image>
        <text style="font-size: 28rpx;color: #8F969C; margin-top: 20rpx;">è¯·å…ˆé€‰æ‹©å›¾ç‰‡</text>
      </view>
      <view style="display: flex; justify-content: center; align-items: center; margin-top: 50rpx;"
        bindtap="showExamplePicker"
        wx:if="{{!imageSrc}}">
        <text style="font-size: 24rpx; color: #8F969C; ">(æ²¡æœ‰åˆé€‚çš„å›¾ç‰‡? </text>
        <text style="font-size: 24rpx; color: blue;"> ç‚¹å‡» </text>
        <text style="font-size: 24rpx; color: #8F969C; ">ä½¿ç”¨ç¤ºä¾‹å›¾ç‰‡)</text>
      </view>
    </view>

    <view style="position: absolute; bottom: 24rpx; right: 24rpx; border-radius: 32rpx; display: flex; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 100;"
      wx:if="{{!hasResult}}">
      <t-icon name="image"
        style="margin-left: 24rpx; color: white;"></t-icon>
      <button type="primary"
        style="background: transparent"
        class="button small-font"
        bindtap="chooseImage">é€‰æ‹©å›¾ç‰‡</button>
    </view>

    <view style="position: absolute; top: 24rpx; right: 24rpx; border-radius: 32rpx; display: flex; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 100;"
      wx:if="{{imageSrc && !hasResult}}"
      bind:tap="onRemoveImage">
      <t-icon name="delete"
        size="40rpx"
        color="white"
        style="padding: 20rpx;"
        bind:click="onRemoveImage" />
    </view>
  </view>

  <button wx:if="{{!hasResult}}"
    style="background: {{isLoading ? 'rgba(0,0,0, 0.2)': '#EDBF58'}} ; border: hidden; color: white; width: 90%; margin-top: 24rpx;"
    bind:tap="generate"
    class="small-font"
    disabled="{{isLoading}}"
    hover-class="action-tile-hover">ç«‹å³åˆ†æ (æ¶ˆè€—5ç§¯åˆ†)
  </button>
  <t-loading style="margin-top: 40rpx;"
    wx:if="{{isLoading}}"
    layout="vertical"
    class="loading"
    text="æŠ¥å‘Šç”Ÿæˆä¸­, è¯·ç¨ç­‰... "></t-loading>


  <view wx:if="{{!hasResult}}"
    style="display: flex; width: 100%; flex-direction: column; margin-top: 30rpx;">
    <view class="container">
      <view class="container">

        <view class="section">
          <view class="section-title">AIä¸€æ‹é€š</view>
          <view class="feature-list">
            <view class="feature-item">
              <text class="feature-text">ğŸ“¸ æ‹ç…§/ä¸Šä¼ ï¼š</text>
              <text style="display: flex;">æ‹æ‘„æˆ–ä¸Šä¼ ç…§ç‰‡</text>
            </view>
            <view class="feature-item">
              <text class="feature-text">ğŸ¨ å…¨é¢åˆ†æï¼š</text>
              <text style="display: flex;">æä¾›é£æ ¼æ¨èã€è‰²å½©æ­é…ã€é¢ç§¯ä¼°ç®—ã€ä½æˆ·åˆ†æã€é£æ°´å»ºè®®å’Œæ¤ç‰©æ¨è</text>
            </view>
          </view>

          <view class="section-title">æ¸©é¦¨æç¤º</view>
          <text class="paragraph">æœ¬æœåŠ¡ä¸ºAIç”Ÿæˆå†…å®¹ï¼Œç»“æœä»…ä¾›å‚è€ƒï¼Œè¯·ç»“åˆå®é™…æƒ…å†µä½¿ç”¨ã€‚
          </text>
        </view>

      </view>

    </view>
  </view>
  <view wx:if="{{hasResult}}"
    style="width: 100%;">

    <t-tabs defaultValue="{{0}}"
      class="tab"
      swipeable="{{false}}"
      theme="card">
      <t-tab-panel label="{{tabLabel}}"
        wx:for="{{reportTabLabels}}"
        wx:for-item="tabLabel"
        wx:key="index"
        value="{{index}}">
        <!-- ç©ºé—´ç”»åƒ -->
        <block wx:if="{{index === 0}}">
          <view class="section-container">
            <!-- BlockåŒ–å¸ƒå±€ -->
            <view>
              <view style="display: flex; flex-wrap: nowrap; gap: 16rpx;">
                <!-- è€åŒ–æŒ‡æ•° - åŠåœ†å½¢ä»ªè¡¨ç›˜ -->
                <view style="flex: 1; min-width: 0; padding: 24rpx; background-color: #f7fafe;border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box;">
                  <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                    <text style="font-size: 24rpx; color:#8F969C; margin-right: 8rpx; flex-shrink: 0;">è€åŒ–æŒ‡æ•°</text>
                    <text style="font-size: 24rpx; color:#1c2023; flex: 1; text-align: center; line-height: 1.5; min-width: 0;">{{result.spaceProfile.spaceCondition.agingIndexDescription}}</text>
                  </view>
                  <gauge value="{{result.spaceProfile.spaceCondition.agingIndex}}"
                    max-value="{{100}}"></gauge>
                </view>
                <!-- å®‰å…¨é£é™© - åŠåœ†å½¢ä»ªè¡¨ç›˜ -->
                <view style="flex: 1; min-width: 0; padding: 24rpx; background: #f7fafe; border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box;">
                  <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                    <text style="font-size: 24rpx; color:#8F969C; margin-right: 8rpx; flex-shrink: 0;">å®‰å…¨é£é™©</text>
                    <text style="font-size: 24rpx; color:#1c2023; flex: 1; text-align: center; line-height: 1.5; min-width: 0;">{{result.spaceProfile.spaceCondition.safetyRiskDescription}}</text>
                  </view>
                  <gauge value="{{result.spaceProfile.spaceCondition.safetyRisk}}"
                    max-value="{{100}}"></gauge>
                </view>
              </view>

              <!-- ä¼°ç®—ä½¿ç”¨å¹´é™ -->
              <view style="margin: 8rpx; padding: 24rpx; background: white; border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box; margin-top: 24rpx;">
                <view style="display: flex; align-items: center;">
                  <!-- æ–‡å­—å†…å®¹ -->
                  <view style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <text style="font-size: 24rpx; color:#8F969C; display: block; margin-bottom: 12rpx; text-align: center;">ä¼°ç®—ä½¿ç”¨å¹´é™</text>
                    <view style="text-align: center;">
                      <text style="font-size: 48rpx; color:#EDBF58; font-weight: 700;">{{result.spaceProfile.spaceCondition.estimatedServiceLife}}</text>
                      <text style="font-size: 28rpx; color:#EDBF58; margin-left: 4rpx;">å¹´</text>
                    </view>
                  </view>
                  <!-- å›¾ç‰‡ -->
                  <view style="flex-shrink: 0; margin-left: 24rpx;">
                    <image src="{{serviceLifeSrc}}"
                      style="width: 406rpx; height: 150rpx;"
                      mode="aspectFit"></image>
                  </view>
                </view>
              </view>

              <view style="display: flex; flex-wrap: nowrap; gap: 16rpx; margin-top: 24rpx;">
                <!-- è¯¥å»ºç­‘/ç©ºé—´åŸæ¥å¯èƒ½ç”¨ä½œ -->
                <view style="flex: 0 0 calc(50% - 16rpx); padding: 24rpx; background: #f7fafe; border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box;">
                  <text style="font-size: 24rpx; color:#8F969C; display: block; margin-bottom: 16rpx;">è¯¥å»ºç­‘/ç©ºé—´åŸæ¥å¯èƒ½ç”¨ä½œ:</text>
                  <view wx:for="{{result.spaceProfile.spaceCondition.originalPossibleUses}}"
                    wx:key="*this"
                    wx:for-index="useIndex"
                    style="margin-bottom: 8rpx;">
                    <text style="font-size: 24rpx; color:#1c2023;">{{useIndex + 1}}. {{item}}</text>
                  </view>
                </view>

                <!-- å»ºè®®ç”¨ä½œ -->
                <view style="flex: 0 0 calc(50% - 16rpx); padding: 24rpx; background: #f7fafe; border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box;">
                  <text style="font-size: 24rpx; color:#8F969C; display: block; margin-bottom: 12rpx;">å»ºè®®ç”¨ä½œ:</text>
                  <text style="font-size: 26rpx; color:#1c2023; line-height: 1.6;">{{result.spaceProfile.spaceCondition.suggestedUse}}</text>
                </view>
              </view>

              <!-- æ€¥éœ€æ”¹é€ å»ºè®® -->
              <view style="margin: 8rpx; padding: 24rpx; background: #f7fafe; border-radius: 16rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05); box-sizing: border-box; margin-top: 24rpx;">
                <text style="font-size: 24rpx; color:#8F969C; display: block; margin-bottom: 16rpx;">æ€¥éœ€æ”¹é€ å»ºè®®:</text>
                <view style="display: flex; align-items: flex-start;">
                  <!-- æ–‡å­—åˆ—è¡¨ -->
                  <view style="flex: 1; min-width: 0;">
                    <view wx:for="{{result.spaceProfile.spaceCondition.urgentRenovationSuggestions}}"
                      wx:key="*this"
                      wx:for-index="suggestionIndex"
                      style="margin-bottom: 8rpx;">
                      <text style="font-size: 24rpx; color:#1c2023;">{{suggestionIndex + 1}}: {{item}}</text>
                    </view>
                  </view>
                  <!-- å›¾ç‰‡ -->
                  <view style="flex-shrink: 0; margin-left: 24rpx;">
                    <image src="{{suggestionsSrc}}"
                      style="width: 200rpx; height: 200rpx;"
                      mode="aspectFit"></image>
                  </view>
                </view>
              </view>
            </view>
          </view>

        </block>

        <!-- æ¨èæ­é… -->
        <block wx:if="{{index === 1}}">
          <view class="section-container">
            <!-- å»ºç­‘ç±»å‹å’Œé£æ ¼ -->
            <view style="margin-top: 20rpx; padding: 24rpx; background: linear-gradient(135deg, #f7fafe 0%, #e8f4fd 100%); border-radius: 16rpx;">
              <view style="margin-bottom: 12rpx;">
                <text style="font-size: 24rpx; color:#8F969C;">å»ºç­‘ç±»å‹</text>
                <view style="margin-top: 8rpx;">
                  <text style="font-size: 28rpx; color:#1c2023; font-weight: 700;">{{result.recommendedMatching.buildingType}}</text>
                </view>
              </view>
              <view style="margin-top: 16rpx; padding-top: 16rpx; border-top: 1rpx solid rgba(0,0,0,0.1);">
                <text style="font-size: 28rpx; color:#1c2023; font-weight: 700;">{{result.recommendedMatching.styleName}}é£æ ¼</text>
                <view style="margin-top: 8rpx;">
                  <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.recommendedMatching.styleDescription}}</text>
                </view>
              </view>
            </view>

            <!-- è‰²å½©æ­é…æ¨è -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸŒˆ</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">è‰²å½©æ­é…æ¨è</text>
              </view>
              <view style="padding: 24rpx; background-color: #f7fafe; border-radius: 16rpx;">
                <view style="margin-top: 12rpx;">
                  <text style="font-size: 26rpx; color:#1c2023; margin-bottom: 16rpx; display: block;">ä¸»è‰²ï¼š</text>
                  <view style="display: flex; align-items: center; margin-bottom: 24rpx;">
                    <view style="width: 120rpx; height: 120rpx; border-radius: 16rpx; background-color: {{result.recommendedMatching.colorScheme.primaryColorRgb}}; border: 3rpx solid rgba(0,0,0,0.1); margin-right: 20rpx; flex-shrink: 0; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15);"></view>
                    <view style="flex: 1;">
                      <text style="font-size: 32rpx; color:#1c2023; font-weight: 700; display: block;">{{result.recommendedMatching.colorScheme.primaryColor}}</text>
                    </view>
                  </view>
                </view>
                <view style="margin-top: 24rpx;">
                  <text style="font-size: 26rpx; color:#1c2023; margin-bottom: 16rpx; display: block;">è¾…åŠ©è‰²ï¼š</text>
                  <view style="margin-top: 8rpx;">
                    <view wx:for="{{result.recommendedMatching.colorScheme.secondaryColors}}"
                      wx:key="color"
                      style="display: flex; align-items: center; margin-bottom: 20rpx;">
                      <view style="width: 100rpx; height: 100rpx; border-radius: 16rpx; background-color: {{item.colorRgb}}; border: 3rpx solid rgba(0,0,0,0.1); margin-right: 20rpx; flex-shrink: 0; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.15);"></view>
                      <view style="flex: 1;">
                        <text style="font-size: 28rpx; color:#1c2023; font-weight: 700; display: block; margin-bottom: 4rpx;">{{item.color}}</text>
                        <text style="font-size: 24rpx; color:#8F969C;">ï¼ˆå»ºè®®ç”¨äº{{item.usage}}ï¼‰</text>
                      </view>
                    </view>
                  </view>
                </view>
              </view>
            </view>

            <!-- æ¨èè‰²å¡ -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸ¨</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">æ¨èè‰²å¡</text>
              </view>
              <view style="padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx;">
                <text style="font-size: 26rpx; color:#1c2023;">{{result.recommendedMatching.colorCardSeries}}</text>
              </view>
            </view>

            <!-- æ¤ç‰©æ­é…æ¨è -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸŒ¿</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">æ¤ç‰©æ­é…æ¨è</text>
              </view>
              <view style="padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx;">
                <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.recommendedMatching.plantRecommendation}}</text>
              </view>
            </view>
          </view>
        </block>

        <!-- ä¼°ç®—å¢™é¢é¢ç§¯ -->
        <block wx:if="{{index === 2}}">
          <view class="section-container">
            <!-- ä¸»è¦é¢ç§¯ä¿¡æ¯å¡ç‰‡ -->
            <view style="margin-top: 20rpx; padding: 32rpx; background: linear-gradient(135deg, #fff9e6 0%, #ffe8a1 100%); border-radius: 16rpx; text-align: center;">
              <text style="font-size: 24rpx; color:#8F969C;">å¢™é¢é¢ç§¯ä¼°ç®—</text>
              <view style="margin-top: 12rpx;">
                <text style="font-size: 56rpx; color:#EDBF58; font-weight: 700;">{{result.wallAreaEstimation.estimatedArea}}</text>
                <text style="font-size: 32rpx; color:#EDBF58; font-weight: 700; margin-left: 8rpx;">mÂ²</text>
              </view>
            </view>

            <!-- è¯¦ç»†ä¿¡æ¯ -->
            <view style="margin-top: 24rpx; display: flex; flex-direction: column;">
              <view style="display: flex; justify-content: space-between; align-items: center; padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx; margin-top: 12rpx;">
                <view style="display: flex; align-items: center;">
                  <text style="font-size: 28rpx; margin-right: 8rpx;">ğŸ“Š</text>
                  <text style="font-size: 26rpx; color:#8F969C;">é¢ç§¯åŒºé—´</text>
                </view>
                <text style="font-size: 28rpx; color:#1c2023; font-weight: 700;">{{result.wallAreaEstimation.areaRange.min}} - {{result.wallAreaEstimation.areaRange.max}} mÂ²</text>
              </view>
              <view style="display: flex; justify-content: space-between; align-items: center; padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx; margin-top: 12rpx;">
                <view style="display: flex; align-items: center;">
                  <text style="font-size: 28rpx; margin-right: 8rpx;">ğŸ¯</text>
                  <text style="font-size: 26rpx; color:#8F969C;">ç½®ä¿¡åº¦</text>
                </view>
                <text style="font-size: 28rpx; color:#1c2023; font-weight: 700;">{{result.wallAreaEstimation.confidence}}</text>
              </view>
            </view>

            <!-- æ¸©é¦¨æç¤º -->
            <view style="margin-top: 24rpx; padding: 20rpx; background-color: #fff5f5; border-left: 4rpx solid #EDBF58; border-radius: 8rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 8rpx;">
                <text style="font-size: 28rpx; margin-right: 8rpx;">âš ï¸</text>
                <text style="font-size: 26rpx; color:#8F969C; font-weight: 700;">æ¸©é¦¨æç¤º</text>
              </view>
              <text style="font-size: 24rpx; color:#8F969C; line-height: 1.6;">æœ¬æœåŠ¡ä¸ºAIé¢„ä¼°ç»“æœï¼Œé¢ç§¯æ•°æ®ä»…ä¾›å‚è€ƒï¼Œå»ºè®®ä»¥ç°åœºå®é™…æµ‹é‡ä¸ºå‡†ã€‚</text>
            </view>
          </view>
        </block>

        <!-- é£æ°´ -->
        <block wx:if="{{index === 3}}">
          <view class="section-container">
            <!-- ç°å†µè¯„ä¼° -->
            <view style="margin-top: 20rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸ“Š</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">ç°å†µè¯„ä¼°</text>
              </view>
              <view style="padding: 20rpx; background: linear-gradient(135deg, #f7fafe 0%, #e8f4fd 100%); border-radius: 12rpx;">
                <view style="display: flex; align-items: center; margin-bottom: 12rpx;">
                  <text style="font-size: 28rpx; color:#1c2023; font-weight: 700; margin-right: 16rpx;">{{result.fengshui.currentAssessment.level}}</text>
                  <view style="flex: 1; height: 1rpx; background-color: rgba(0,0,0,0.1);"></view>
                </view>
                <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.fengshui.currentAssessment.reason}}</text>
              </view>
            </view>

            <!-- å¸ƒå±€å»ºè®® -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸ </text>
                <text class="header1-text"
                  style="font-size: 30rpx;">å¸ƒå±€å»ºè®®</text>
              </view>
              <view style="padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx;">
                <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.fengshui.layoutSuggestion}}</text>
              </view>
            </view>

            <!-- è‰²å½©å»ºè®® -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸ¨</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">è‰²å½©å»ºè®®</text>
              </view>
              <view style="padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx;">
                <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.fengshui.colorSuggestion}}</text>
              </view>
            </view>

            <!-- ç‰©ä»¶å¸ƒç½® -->
            <view style="margin-top: 24rpx;">
              <view style="display: flex; align-items: center; margin-bottom: 16rpx;">
                <text style="font-size: 32rpx; margin-right: 8rpx;">ğŸª‘</text>
                <text class="header1-text"
                  style="font-size: 30rpx;">ç‰©ä»¶å¸ƒç½®</text>
              </view>
              <view style="padding: 20rpx; background-color: #f7fafe; border-radius: 12rpx;">
                <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{result.fengshui.objectArrangement}}</text>
              </view>
            </view>
          </view>
        </block>

        <!-- ç©ºé—´ç„•æ–°è®¡åˆ’ -->
        <block wx:if="{{index === 4}}">
          <view class="section-container">
            <!-- ç©ºé—´ç„•æ–°è®¡åˆ’åˆ—è¡¨ -->
            <view style="margin-top: 20rpx;">
              <view wx:for="{{result.salesProposals.proposals}}"
                wx:key="title"
                wx:for-index="proposalIndex"
                style="margin-top: 20rpx; padding: 24rpx; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 16rpx;">
                <view style="display: flex; align-items: flex-start;">
                  <view style="width: 48rpx; height: 48rpx; border-radius: 24rpx; background: linear-gradient(135deg, #EDBF58 0%, #f59e0b 100%); display: flex; align-items: center; justify-content: center; margin-right: 16rpx; flex-shrink: 0;">
                    <text style="font-size: 28rpx; color: white; font-weight: 700;">{{proposalIndex + 1}}</text>
                  </view>
                  <view style="flex: 1;">
                    <text style="font-size: 30rpx; color:#1c2023; font-weight: 700;">{{item.title}}</text>
                    <view style="margin-top: 12rpx;">
                      <text style="font-size: 26rpx; color:#1c2023; line-height: 1.8;">{{item.description}}</text>
                    </view>
                  </view>
                </view>
              </view>
            </view>
          </view>
        </block>
      </t-tab-panel>
    </t-tabs>

    <!-- åˆ†äº«æœ‹å‹åœˆ/å‘é€ç»™æœ‹å‹-->
    <view class="result-actions"
      style="margin-top: 30rpx;">

      <button class="cute-button jump-to-ai-btn"
        bindtap="navigateToAI">
        <text class="button-icon">âœ¨</text>
        <text>ç‚¹å‡»ä½¿ç”¨æ•°ç å½©AIç”Ÿæˆæ•ˆæœå›¾</text>
        <text class="button-icon">âœ¨</text>
      </button>

      <button class="cute-button retry-button"
        wx:if="betaVersion"
        bindtap="resetGame">
        <text>å†æ¥ä¸€æ¬¡</text>
      </button>
    </view>

    <!-- <view style="display: flex; justify-content: center; align-items: center; margin-top: 40rpx;"
      wx:if="{{!viewOnly}}">
            <t-loading theme="circular"
              size="40rpx"
              text="æ­£åœ¨ç”ŸæˆäºŒç»´ç "
              layout="vertical"
              wx:if="{{!qrcodeSrc}}"
              class="wrapper" />
            <image src="{{qrcodeSrc}}"
              wx:if="{{qrcodeSrc}}"
              show-menu-by-longpress="true"
              style="height: 490rpx; width: 100%;"
              mode="aspectFit"></image>
        </view> -->
  </view>
</view>

<t-message id="t-message" />
<t-toast id="t-toast" />


<example-picker tab-value="{{0}}"
  example-type="DIAGNOSIS"
  bind:selectexampleimage="onSelectExampleImage"
  visible="{{examplePickerVisible}}"></example-picker>